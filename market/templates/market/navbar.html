{% load static %}
<head>
    <link href="{% static 'css/component.css' %}" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="{% static 'css/styles.css' %}" rel="stylesheet"/>
</head>

<!-- 네비게이션 바 -->

<style type="text/css">
    .navbar{
       display: flex; !important;
       justify-content: space-between; !important;
       background-color:#FFFFFF; !important;
    }
    nav a {
        position: center;
        display: inline-block;
        margin: -8px 0px;
        outline: none;
        color: rgba(0, 0, 0, 1) !important; /*카테고리 내부 글 색상*/
        text-decoration: none;
        text-transform: uppercase;
        text-align: center;
        letter-spacing: 1px;
        font-weight: 400;
        text-shadow: 0 0 1px rgba(255,255,255,0.3);
        font-size: 1em;
    }

    .navbar .nav-item {
        display: flex;
        align-items: center;

    }

    .navbar .nav-link {
        margin-left: 30px;
    }

    nav a:hover,
    nav a:focus {
        outline: none;
    }

    .nanum-myeongjo-bold {
      font-family: "Nanum Myeongjo", serif;
      font-weight: 700;
      font-style: normal;
    }


    li{
        font-family: "Nanum Myeongjo", serif;
        font-size: 30px;
        color: rgba(0, 0, 0, 1) !important;
        padding: 5px 50px 30px 180px; /*메뉴 항목 위치 조정*/
    }

    .cl-effect-1 a::before,
    .cl-effect-1 a::after {
        display: inline-block;
        opacity: 0;
        -webkit-transition: -webkit-transform 0.3s, opacity 0.2s;
        -moz-transition: -moz-transform 0.3s, opacity 0.2s;
        transition: transform 0.3s, opacity 0.2s;
    }

    .cl-effect-1 a::before {
        margin-right: 10px;
        content: '[';
        -webkit-transform: translateX(20px);
        -moz-transform: translateX(20px);
        transform: translateX(20px);
    }

    .cl-effect-1 a::after {
        margin-left: 10px;
        content: ']';
        -webkit-transform: translateX(-20px);
        -moz-transform: translateX(-20px);
        transform: translateX(-20px);
    }

    .cl-effect-1 a:hover::before,
    .cl-effect-1 a:hover::after,
    .cl-effect-1 a:focus::before,
    .cl-effect-1 a:focus::after {
        opacity: 1;
        -webkit-transform: translateX(0px);
        -moz-transform: translateX(0px);
        transform: translateX(0px);
    }

    .search-form {
        margin-top: -100px;
        margin-right: -250px;
    }

    .search-input {
        width: 100%;
    }

    .search-button {
        height: calc(100% - 2px); /* 버튼 높이 조정 */
        border-top-right-radius: 0; /* 버튼 모서리 조정 */
        border-bottom-right-radius: 0;
        font-size: 0.9rem; /* 버튼 글꼴 크기 */
    }
</style>
        <!--navbar-->
        <nav class="navbar">
            <div class="cl-effect-1 px-40 px-lg-5">
                    <a href="{% url 'market:home' %}">
                        <img src="{% static 'img/Ant Market No Bg.png' %}"
                             height="100" width="210" style="margin: 20px 5px 8px 5px">
                    </a>
                </a>

                <!--searchform-->
                <div class="d-flex justify-content-end search-form">
                    <div class="col-3">
                        <div class="input-group search-input">
                            <input type="text" id="search_kw" class="form-control" value="{{ kw|default_if_none:'' }}">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary search-button" type="button" id="btn-search">찾기</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!--searchform-->

                <ul class="nav justify-content-center">
                    <li class="nav-item">
                        {% if user.is_authenticated %}
                            <a class="nav-link" href="{% url 'user:profile' %}">{{ user.username }}</a>
                            <a class="nav-link" href="{% url 'user:logout' %}">로그아웃</a>
                        {% else %}
                            <a class="nav-link" href="{% url 'user:login' %}">Login</a>
                        {% endif %}
                    </li>
                    <div style="display: flex; justify-content: flex-end;">
                        <ul class="nav" style="list-style-type: none; padding: 0;">
                            {% for category in categories %}
                            <li style="display: inline-block; margin-left: 50px;">
                                <a class="nav-link" href="{{ category.get_absolute_url }}">{{ category.name }}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </ul>
            </div>
            <!--cart-->
            <div id="subheader">
                <div class="cart d-flex px-4 mt-4">
                    <form action="{% url 'cart:cart_detail' %}" method="get">
                        {% with total_items=cart|length %}
                            {% if total_items > 0 %}
                                <button type="submit" class="btn btn-outline-dark">
                                    Cart:
                                    {{ total_items }} item{{ total_items|pluralize }},
                                    {{ cart.get_total_price }}원
                                </button>
                            {% else %}
                                <button type="submit" class="btn btn-outline-dark" style="margin-top:30px;">
                                    Your cart is empty.
                                </button>
                            {% endif %}
                        {% endwith %}
                    </form>
                </div>
            </div>
            <!--cart-->
                    <form id="searchForm" method="get" action="{% url 'market:search' %}" style="margin-left: auto;">
                        <input type="hidden" id="kw" name="kw" value="{{ kw|default_if_none:'' }}">
                    </form>
        </nav>

